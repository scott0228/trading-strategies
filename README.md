# äº¤æ˜“ç­–ç•¥å›æ¸¬ç³»çµ±

é€™æ˜¯ä¸€å€‹ä½¿ç”¨ Python å»ºç«‹çš„å®Œæ•´äº¤æ˜“ç­–ç•¥é–‹ç™¼å’Œå›æ¸¬æ¡†æ¶ï¼Œå°ˆé–€ç”¨æ–¼ç¨‹å¼äº¤æ˜“ç­–ç•¥çš„é–‹ç™¼ã€æ¸¬è©¦å’Œåˆ†æã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ”„ **ç­–ç•¥é–‹ç™¼æ¡†æ¶** - åŸºæ–¼ç‰©ä»¶å°å‘çš„ç­–ç•¥é–‹ç™¼æ¨¡å¼
- ğŸ“Š **å›æ¸¬å¼•æ“** - å®Œæ•´çš„æ­·å²è³‡æ–™å›æ¸¬åŠŸèƒ½
- ğŸ“ˆ **æŠ€è¡“æŒ‡æ¨™** - å¸¸ç”¨æŠ€è¡“åˆ†ææŒ‡æ¨™å¯¦ç¾
- ğŸ“‰ **ç¸¾æ•ˆåˆ†æ** - è©³ç´°çš„æŠ•è³‡ç¸¾æ•ˆè©•ä¼°æŒ‡æ¨™
- ğŸ¯ **è¦–è¦ºåŒ–** - åƒ¹æ ¼ã€ä¿¡è™Ÿå’Œç¸¾æ•ˆåœ–è¡¨
- ğŸ”§ **å¯æ“´å±•** - æ˜“æ–¼æ·»åŠ æ–°çš„ç­–ç•¥å’ŒæŒ‡æ¨™

## ç’°å¢ƒéœ€æ±‚

- Python 3.11+
- uv (Python å¥—ä»¶ç®¡ç†å™¨)

## å®‰è£æ­¥é©Ÿ

1. é€²å…¥å°ˆæ¡ˆç›®éŒ„ï¼š
```bash
cd trading-strategies
```

2. å•Ÿå‹•è™›æ“¬ç’°å¢ƒï¼š
```bash
uv sync
```

3. å•Ÿå‹• Jupyter Notebookï¼š
```bash
uv run jupyter notebook
```

## å°ˆæ¡ˆçµæ§‹

```
trading-strategies/
â”œâ”€â”€ strategies/              # äº¤æ˜“ç­–ç•¥æ¨¡çµ„
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_strategy.py     # ç­–ç•¥åŸºç¤é¡åˆ¥
â”‚   â””â”€â”€ sma_crossover.py     # SMAäº¤å‰ç­–ç•¥
â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.py           # ç³»çµ±é…ç½®
â”œâ”€â”€ notebooks/               # Jupyterç­†è¨˜æœ¬
â”‚   â””â”€â”€ quick_start_example.ipynb
â”œâ”€â”€ data/                    # è³‡æ–™å­˜å„²ç›®éŒ„
â”œâ”€â”€ test/                    # æ¸¬è©¦ç¨‹å¼ç›®éŒ„
â”‚   â”œâ”€â”€ run_all_tests.py    # åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
â”‚   â”œâ”€â”€ test_notebook_imports.py  # Notebookæ¸¬è©¦
â”‚   â”œâ”€â”€ test_all_strategies.py    # ç­–ç•¥åŠŸèƒ½æ¸¬è©¦
â”‚   â”œâ”€â”€ test_tw_stocks.py         # å°è‚¡æ¸¬è©¦
â”‚   â””â”€â”€ quick_tw_test.py          # å¿«é€Ÿå°è‚¡æ¸¬è©¦
â”œâ”€â”€ utils.py                # å·¥å…·å‡½æ•¸
â”œâ”€â”€ backtest_engine.py      # å›æ¸¬å¼•æ“
â””â”€â”€ README.md
```

## å¿«é€Ÿé–‹å§‹

### æ¸¬è©¦ç³»çµ±
```bash
# æ¸¬è©¦ç³»çµ±æ˜¯å¦æ­£å¸¸é‹ä½œ
cd test
python run_all_tests.py

# å¿«é€Ÿæ¸¬è©¦å°è‚¡
python quick_tw_test.py
```

### 1. åŸºæœ¬ä½¿ç”¨ç¯„ä¾‹

```python
from utils import fetch_data
from strategies.sma_crossover import SMAcrossoverStrategy
from backtest_engine import BacktestEngine

# ç²å–è³‡æ–™
data = fetch_data('AAPL', period='2y')

# å‰µå»ºç­–ç•¥
strategy = SMAcrossoverStrategy(
    name="SMA 20/50 äº¤å‰ç­–ç•¥",
    short_window=20,
    long_window=50,
    initial_capital=100000
)

# é‹è¡Œå›æ¸¬
engine = BacktestEngine()
result = engine.run_backtest(strategy, data, 'AAPL')

# æŸ¥çœ‹çµæœ
print(f"ç¸½å›å ±: {result['performance']['total_return']:.2%}")
```

### 2. ä½¿ç”¨ Jupyter Notebook

é–‹å•Ÿ `notebooks/quick_start_example.ipynb` ä¾†æŸ¥çœ‹å®Œæ•´çš„ç¯„ä¾‹æ•™å­¸ã€‚

## å…§å»ºç­–ç•¥

### SMA äº¤å‰ç­–ç•¥ (SMA Crossover)
- **åŸç†**: çŸ­æœŸç§»å‹•å¹³å‡ç·šä¸Šç©¿é•·æœŸç§»å‹•å¹³å‡ç·šæ™‚è²·å…¥ï¼Œä¸‹ç©¿æ™‚è³£å‡º
- **åƒæ•¸**: 
  - `short_window`: çŸ­æœŸç§»å‹•å¹³å‡å¤©æ•¸ (é è¨­: 20)
  - `long_window`: é•·æœŸç§»å‹•å¹³å‡å¤©æ•¸ (é è¨­: 50)

## ç¸¾æ•ˆæŒ‡æ¨™

ç³»çµ±æœƒè‡ªå‹•è¨ˆç®—ä»¥ä¸‹ç¸¾æ•ˆæŒ‡æ¨™ï¼š

- **ç¸½å›å ±** (Total Return): æŠ•è³‡æœŸé–“çš„ç¸½å ±é…¬ç‡
- **å¹´åŒ–å›å ±** (Annualized Return): å¹´åŒ–å ±é…¬ç‡
- **æ³¢å‹•ç‡** (Volatility): åƒ¹æ ¼æ³¢å‹•ç¨‹åº¦
- **å¤æ™®æ¯”ç‡** (Sharpe Ratio): é¢¨éšªèª¿æ•´å¾Œå ±é…¬
- **æœ€å¤§å›æ’¤** (Maximum Drawdown): æœ€å¤§æå¤±å¹…åº¦
- **äº¤æ˜“æ¬¡æ•¸** (Total Trades): ç¸½äº¤æ˜“ç­†æ•¸

## è³‡æ–™ä¾†æº

- **Yahoo Finance**: é€é `yfinance` å¥—ä»¶ç²å–è‚¡ç¥¨è³‡æ–™
- **æ”¯æ´è³‡ç”¢é¡å‹**: è‚¡ç¥¨ã€ETFã€æŒ‡æ•¸ã€åŠ å¯†è²¨å¹£ç­‰
- **è³‡æ–™é »ç‡**: æ—¥ç·šã€é€±ç·šã€æœˆç·š

## å¦‚ä½•é–‹ç™¼æ–°ç­–ç•¥

1. ç¹¼æ‰¿ `BaseStrategy` é¡åˆ¥
2. å¯¦ç¾ `calculate_indicators()` æ–¹æ³•
3. å¯¦ç¾ `generate_signals()` æ–¹æ³•

```python
from strategies.base_strategy import BaseStrategy

class MyCustomStrategy(BaseStrategy):
    def calculate_indicators(self, data):
        # è¨ˆç®—æŠ€è¡“æŒ‡æ¨™
        pass
    
    def generate_signals(self, data):
        # ç”Ÿæˆäº¤æ˜“ä¿¡è™Ÿ
        pass
```

## é…ç½®è¨­å®š

åœ¨ `config/config.py` ä¸­å¯ä»¥èª¿æ•´ï¼š

- è³‡æ–™ç²å–è¨­å®š
- å›æ¸¬åƒæ•¸
- ç­–ç•¥é è¨­åƒæ•¸
- é è¨­è‚¡ç¥¨æ¸…å–®

## å¸¸ç”¨è‚¡ç¥¨ä»£ç¢¼

ç³»çµ±é è¨­åŒ…å«ä»¥ä¸‹ç†±é–€è‚¡ç¥¨ï¼š
- **ç¾è‚¡**: AAPL, GOOGL, MSFT, AMZN, TSLA
- **ETF**: SPY, QQQ, IWM, VTI
- **åŠ å¯†è²¨å¹£**: BTC-USD

## æ³¨æ„äº‹é …

1. å›æ¸¬çµæœåƒ…ä¾›åƒè€ƒï¼Œä¸æ§‹æˆæŠ•è³‡å»ºè­°
2. å¯¦éš›äº¤æ˜“éœ€è€ƒæ…®äº¤æ˜“æˆæœ¬ã€æ»‘åƒ¹ç­‰å› ç´ 
3. æ­·å²ç¸¾æ•ˆä¸ä»£è¡¨æœªä¾†è¡¨ç¾
4. å»ºè­°åœ¨æ¨¡æ“¬ç’°å¢ƒå……åˆ†æ¸¬è©¦å¾Œå†é€²è¡Œå¯¦ç›¤äº¤æ˜“

## æ“´å±•åŠŸèƒ½

æœªä¾†å¯ä»¥æ·»åŠ çš„åŠŸèƒ½ï¼š

- [ ] æ›´å¤šæŠ€è¡“æŒ‡æ¨™ (RSI, MACD, å¸ƒæ—é€šé“ç­‰)
- [ ] é¢¨éšªç®¡ç†æ¨¡çµ„ (åœæã€åœåˆ©ã€è³‡é‡‘ç®¡ç†)
- [ ] åƒæ•¸å„ªåŒ–åŠŸèƒ½
- [ ] å¤šè³‡ç”¢æŠ•è³‡çµ„åˆå›æ¸¬
- [ ] å¯¦æ™‚äº¤æ˜“æ¥å£
- [ ] æ›´å¤šç¸¾æ•ˆåˆ†ææŒ‡æ¨™

## è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Request ä¾†æ”¹é€²é€™å€‹å°ˆæ¡ˆã€‚

## æˆæ¬Š

MIT License